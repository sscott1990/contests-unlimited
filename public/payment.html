<!DOCTYPE html>
<html>
<head>
  <title>Enter Contest</title>
  <link rel="stylesheet" href="/styles.css">
  <style>
    #checkout_button {
      display: inline-block;
      font-family: sans-serif;
      font-size: 20px;
      background-color: #0BD992;
      color: white;
      border-radius: 4px;
      padding: 14px 28px;
      margin-top: 20px;
      cursor: pointer;
    }
    #checkout_button:hover {
      background-color: #0AC982;
    }
  </style>
</head>
<body>
  <h1>Enter Contest - $5 Entry</h1>

  <p style="margin-top: 20px; font-size: 0.95em; color: #444;">
    üèÜ Winners will be contacted via email and asked to provide their full name and mailing address to issue the prize check.
  </p>

  <div id="checkout_button">Check Out</div>

  <!-- ‚úÖ EPD Checkout Script -->
  <script
    src="https://secure.easypaydirectgateway.com/token/CollectCheckout.js"
    data-checkout-key="checkout_public_2828BnDCyj2J74bs2Hr7FT5wFN37qg2S"
  ></script>

  <script>
    document.getElementById('checkout_button').addEventListener('click', function () {
      // ‚úÖ This does NOT require an API call to your backend unless you're generating dynamic session tokens
      CollectCheckout.redirectToCheckout({
        type: "sale",
        lineItems: [
          {
            lineItemType: "purchase",
            sku: "contest-entry-may2025",
            quantity: 1
          },
        ],
       successUrl: "https://contests-unlimited.onrender.com/success.html?id={{transaction_id}}",
        cancelUrl: "https://contests-unlimited.onrender.com/cancel.html",
        receipt: {
          showReceipt: false,
          sendToCustomer: true,
        },
        collectShippingInfo: true,
        useKount: false,
        paymentMethods: [
          {
            type: "creditCard",
            use3DSecure: false,
          },
          {
            type: "check",
          },
        ],
        fields: [
          // Optional: additional fields to collect
        ],
      }).then((error) => {
        if (error) {
          console.error("Checkout redirect error:", error);
        }
      });
    });
  </script>
</body>
</html>
